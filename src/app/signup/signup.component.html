<div class="signup-container">
  <h2>Signup</h2>

  <form #signupForm="ngForm" (ngSubmit)="onSignup(signupForm)" class="signup-form">
    <div class="form-group">
      <label for="name">Name</label>
      <input type="text" id="name" [(ngModel)]="name" name="name" required>
      <div *ngIf="signupForm.controls['name']?.invalid && (signupForm.controls['name']?.touched || signupForm.submitted)" class="error">
        Name is required.
      </div>
    </div>

    <div class="form-group">
      <label for="email">Email</label>
      <input type="email" id="email" [(ngModel)]="email" name="email" required email placeholder="example@domain.com">
      <div *ngIf="signupForm.controls['email']?.invalid && (signupForm.controls['email']?.touched || signupForm.submitted)" class="error">
        <div *ngIf="signupForm.controls['email']?.errors?.['required']">Email is required.</div>
        <div *ngIf="signupForm.controls['email']?.errors?.['email']">Invalid email format.</div>
      </div>
    </div>

    <div class="form-group">
      <label for="password">Password</label>
      <input type="password" id="password" [(ngModel)]="password" name="password" required minlength="6" (focus)="showDropdown = true" (blur)="showDropdown = false">
      <div *ngIf="signupForm.controls['password']?.invalid && (signupForm.controls['password']?.touched || signupForm.submitted)" class="error">
        <div *ngIf="signupForm.controls['password']?.errors?.['required']">Password is required.</div>
        <div *ngIf="signupForm.controls['password']?.errors?.['minlength']">Password must be at least 6 characters long.</div>
      </div>

      <!-- Dropdown for password requirements -->
      <div class="dropdown" *ngIf="showDropdown">
        <ul>
          <li [ngClass]="{'valid': containsUppercase(password), 'invalid': !containsUppercase(password)}">
            {{ containsUppercase(password) ? '✔️' : '❌' }} At least one uppercase letter
          </li>
          <li [ngClass]="{'valid': containsLowercase(password), 'invalid': !containsLowercase(password)}">
            {{ containsLowercase(password) ? '✔️' : '❌' }} At least one lowercase letter
          </li>
          <li [ngClass]="{'valid': containsNumber(password), 'invalid': !containsNumber(password)}">
            {{ containsNumber(password) ? '✔️' : '❌' }} At least one number
          </li>
          <li [ngClass]="{'valid': containsSymbol(password), 'invalid': !containsSymbol(password)}">
            {{ containsSymbol(password) ? '✔️' : '❌' }} At least one special character
          </li>
          <li [ngClass]="{'valid': password.length > 6, 'invalid': password.length <= 6}">
            {{ password.length > 6 ? '✔️' : '❌' }} More than 6 characters
          </li>
        </ul>
      </div>
    </div>

    <button type="submit" class="submit-btn" [disabled]="signupForm.invalid">Sign Up</button>
  </form>

  <div *ngIf="successMessage" class="success">
    {{ successMessage }}
  </div>

  <div *ngIf="errorMessage" class="error">
    {{ errorMessage }}
  </div>
</div>
